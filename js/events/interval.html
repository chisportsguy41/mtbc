<!DOCTYPE html>
<html>
    <head>
        <title>Intervals</title>
        <style>
            #demo{
                background: #000000;
                height: 50px;
                width: 50px;
            }
        </style>
    </head>
    <body>
        <div id="demo"></div>
        <button id="growBtn">Grow</button>

        <script>
            function Grower() {
                //Get current width of the target element
                this.width  = document.querySelector('#demo').offsetWidth;

                //Set a counter to the current width
                this.num = this.width;

                //Execute the counter on a set interval
                this.timer = setInterval(() => {
                    //Increment the counter
                    this.num++;

                    //Add one pixel to the width of the target element
                    document.querySelector('#demo').style = 'width:' + this.num + 'px; color: #' + Math.floor(Math.random()*16777215).toString(16) + '';

                    //After fifty iterations, kill the loop.
                    if(this.num === this.width + 50){
                        clearInterval(this.timer);
                    }
                }, 1);
            }

            // Function to add event listener to button#time
            var btn = document.querySelector("#growBtn");
            btn.addEventListener("click", function(){new Grower()}, false);
        </script>
    </body>
</html>